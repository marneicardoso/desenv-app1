<!-- SPLASH SCREEN (TELA XML) -->
<?xml version="1.0" encoding="utf-8"?>
<androidx.appcompat.widget.LinearLayoutCompat
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center_horizontal"
    android:background="@color/amarelo"
    tools:context=".SplashScreen">

    <ImageView
        android:background="@drawable/logo"
        android:layout_marginTop="150dp"
        android:layout_width="256dp"
        android:layout_height="256dp" />

    <TextView
        android:textSize="36sp"
        android:text="@string/nome"
        android:textStyle="bold"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</androidx.appcompat.widget.LinearLayoutCompat>



<!-- STRINGS -->
<resources>
    <string name="app_name">TriviaChapolin</string>

    <string name="nome">Trivia do Chapolin</string>
    <string name="usuario">Qual seu nome?</string>
    <string name="sexo">Qual seu sexo?</string>
    <string name="feminino">Feminino</string>
    <string name="masculino">Masculino</string>
    <string name="frase">Sigam-me os bons!</string>
</resources>



<!-- COLORS -->
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Cores padrão (desta versão do sistema) -->
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>

    <!-- Cores customizadas -->
    <color name="amarelo">#FFE57F</color>
    <color name="laranja">#E65100</color>
    <color name="vermelho">#BF360C</color>
</resources>



<!-- THEME -->
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.TriviaChapolin" parent="Theme.MaterialComponents.DayNight.DarkActionBar">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/laranja</item>
        <item name="colorPrimaryVariant">@color/purple_700</item>
        <item name="colorOnPrimary">@color/white</item>
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/vermelho</item>
        <item name="colorSecondaryVariant">@color/teal_700</item>
        <item name="colorOnSecondary">@color/black</item>
        <!-- Status bar color. -->
        <item name="android:statusBarColor" tools:targetApi="l">?attr/colorPrimaryVariant</item>
        <!-- Customize your theme here. -->
    </style>
</resources>



// SPLASH SCREEN (JAVA)
package com.marneicardoso.triviachapolin;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;

public class SplashScreen extends AppCompatActivity {

    // Atributos
    int tempo = 3000; // Tempo do delay

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.splash_screen);
        getSupportActionBar().hide(); // Esconde a barra superior

        // Mostra a tela de abertura (Splash Screen) por N segundos
        new Handler().postDelayed(new Runnable() {
            @Override
            public void run() {
                // Envia para a Tela Principal
                startActivity(new Intent(SplashScreen.this, TelaPrincipal.class));
                finish(); // Destroy esta activity
            }
        }, tempo);
    }
}



<!-- TELA PRINCIPAL (TELA XML) -->
<?xml version="1.0" encoding="utf-8"?>
<androidx.appcompat.widget.LinearLayoutCompat
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center_horizontal"
    tools:context=".TelaPrincipal">

    <TextView
        android:id="@+id/txtTitulo"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_marginTop="25dp"
        android:layout_weight="10"
        android:gravity="center_horizontal"
        android:singleLine="false"
        android:text="@string/nome"
        android:textColor="@color/vermelho"
        android:shadowColor="@color/black"
        android:shadowDx="3"
        android:shadowDy="3"
        android:textSize="32sp" />

    <ImageView
        android:id="@+id/imgChapolin"
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="40"
        app:srcCompat="@drawable/chapolin" />

    <TextView
        android:id="@+id/txtNome"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="5"
        android:layout_marginTop="20dp"
        android:gravity="center_horizontal"
        android:textSize="18sp"
        android:text="@string/usuario" />

    <EditText
        android:id="@+id/edtUsuario"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="10"
        android:ems="10"
        android:gravity="center_horizontal"
        android:inputType="textCapSentences"
        android:textSize="24sp" />

    <TextView
        android:id="@+id/txtSexo"
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="5"
        android:text="@string/sexo"
        android:textSize="18sp" />

    <RadioGroup
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:layout_weight="5"
        android:gravity="center_horizontal"
        android:orientation="horizontal">

        <RadioButton
            android:id="@+id/rdbSexoF"
            android:layout_width="120dp"
            android:layout_height="wrap_content"
            android:layout_weight="10"
            android:checked="true"
            android:text="@string/feminino" />

        <RadioButton
            android:layout_width="120dp"
            android:layout_height="wrap_content"
            android:layout_weight="10"
            android:checked="false"
            android:text="@string/masculino" />

    </RadioGroup>

    <Button
        android:id="@+id/btnIniciar"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="15"
        android:gravity="center_horizontal|center_vertical"
        android:text="@string/frase"
        android:textSize="18sp"
        android:drawableLeft="@drawable/marreta_icon" />

    <Switch
        android:id="@+id/swtMusica"
        android:layout_width="180dp"
        android:layout_height="0dp"
        android:layout_weight="10"
        android:text="Música de fundo"
        android:layout_marginTop="20dp"
        android:layout_marginBottom="25dp"
        android:checked="true"
        android:gravity="center_horizontal" />

</androidx.appcompat.widget.LinearLayoutCompat>



// TRIVIA (JAVA)
package com.marneicardoso.triviachapolin;

public class Trivia {
    // Atributos
    private String usuario;
    private String sexo;
    private int acertos;
    private static Trivia instancia;

    // Construtor private
    private Trivia() {
        this.usuario = "";
        this.sexo = "";
        this.acertos = 0;
    }

    // Métodos
    public void zerarAcertos() {
        this.acertos = 0;
    }

    public void contarAcertos() {
        this.acertos++;
    }

    public int getAcertos() {
        return this.acertos;
    }

    public boolean isMasculino() {
        return this.sexo.equals("M");
    }

    // Cria uma INSTÂNCIA ÚNICA de Trivia (Padrão de Projeto: Singleton)
    public static Trivia getInstance() {
        // Se ainda NÃO existir a instância, cria uma
        if (instancia == null) {
            instancia = new Trivia();
        }

        // Se JÁ existir, retorna a instância
        return instancia;
    }

    // Get e Set
    public String getUsuario() {
        return usuario;
    }

    public void setUsuario(String usuario) {
        this.usuario = usuario;
    }

    public String getSexo() {
        return sexo;
    }

    public void setSexo(String sexo) {
        this.sexo = sexo;
    }
}



// MUSICA (JAVA)
package com.marneicardoso.triviachapolin;

import android.content.Context;
import android.media.MediaPlayer;

public class Musica {
    public static MediaPlayer mediaPlayer;

    public static void iniciarMusica(Context context, int rawID, boolean isLoop) {
        mediaPlayer = MediaPlayer.create(context, rawID);

        // Atribui o loop para a música (true ou false)
        mediaPlayer.setLooping(isLoop);

        // Iniciar a música
        mediaPlayer.start();
    }

    public static void pararMusica() {
        mediaPlayer.stop();
        mediaPlayer.release();

        // Estados válidos: Prepared, Started, Stopped, Pause...
    }
}



// TELA PRINCIPAL (JAVA)
package com.marneicardoso.triviachapolin;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RadioButton;
import android.widget.Switch;
import android.widget.Toast;

public class TelaPrincipal extends AppCompatActivity {

    // Atributos
    private EditText edtUsuario;
    private RadioButton rdbSexoF;
    private Button btnIniciar;
    private Switch swtMusica;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.tela_principal);
        // Esconde a barra de título
        getSupportActionBar().hide();

        // Vincula os componentes da tela (XML)
        referenciarComponentes();

        // Gerencia o campo nome
        gerenciarUsuario();

        // Inicia a música de fundo ao iniciar o App
        gerenciarMusica();

        btnIniciar.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

            }
        });

        swtMusica.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                gerenciarMusica();
            }
        });

    } // fecha o método onCreate

    private void gerenciarUsuario() {
        // Verifica se o nome já foi informado
        if (!Trivia.getInstance().getUsuario().equals("")) {
            edtUsuario.setText(Trivia.getInstance().getUsuario());
        }

        // Coloca o cursor no campo Nome
        edtUsuario.requestFocus();
    }

    private void gerenciarMusica() {
        // Verifica se a música de fundo está ativada pelo usuário
        if (swtMusica.isChecked()) {
            Musica.iniciarMusica(this, R.raw.musica, true);

        } else {
            Musica.pararMusica();
        }
    }

    private void referenciarComponentes() {
        this.edtUsuario = findViewById(R.id.edtUsuario);
        this.btnIniciar = findViewById(R.id.btnIniciar);
        this.rdbSexoF = findViewById(R.id.rdbSexoF);
        this.swtMusica = findViewById(R.id.swtMusica);
    }
}


